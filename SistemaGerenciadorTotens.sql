-- MySQL Script generated by MySQL Workbench
-- Mon Oct 23 09:49:54 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

CREATE DATABASE SGT;
USE `SGT` ;

-- -----------------------------------------------------
-- Table `usuarios`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `usuarios` (
  `id_usuarios` INT(7) NOT NULL,
  `tipo_usuario` CHAR(1) NOT NULL,
  `login` VARCHAR(45) NOT NULL,
  `senha` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_usuarios`));


-- -----------------------------------------------------
-- Table `clientes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `clientes` (
  `cpf_clientes` INT(11) NOT NULL,
  `primeiro_nome` VARCHAR(100) NOT NULL,
  `sobrenome` VARCHAR(100) NOT NULL,
  `data_de_nascimento` DATE NOT NULL,
  `email` VARCHAR(100) NOT NULL,
  `telefone` VARCHAR(20) NOT NULL,
  `cep` VARCHAR(10) NOT NULL,
  `numero_casa` VARCHAR(7) NOT NULL,
  `usuarios_id_usuarios` INT(7) NOT NULL,
  PRIMARY KEY (`cpf_clientes`, `usuarios_id_usuarios`),
  INDEX `fk_clientes_usuarios1_idx` (`usuarios_id_usuarios` ASC),
  CONSTRAINT `fk_clientes_usuarios1`
    FOREIGN KEY (`usuarios_id_usuarios`)
    REFERENCES `usuarios` (`id_usuarios`));


-- -----------------------------------------------------
-- Table `espacos_hotel`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `espacos_hotel` (
  `id_espacos` INT(7) NOT NULL,
  `nome_espaco` VARCHAR(100) NOT NULL,
  `dia_semana_abertura` DATE NOT NULL,
  `dia_semana_fechamento` DATE NOT NULL,
  `horario_abertura` TIME NOT NULL,
  `horario_fechamento` TIME NOT NULL,
  `capacidade` INT(3) NOT NULL,
  PRIMARY KEY (`id_espacos`));


-- -----------------------------------------------------
-- Table `gerenciamento_acesso`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `gerenciamento_acesso` (
  `login_cliente_id_login_cliente` INT(7) NOT NULL,
  `login_cliente_clientes_id_clientes` INT(7) NOT NULL,
  PRIMARY KEY (`login_cliente_id_login_cliente`, `login_cliente_clientes_id_clientes`));


-- -----------------------------------------------------
-- Table `funcionarios`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `funcionarios` (
  `id_funcionarios` INT(7) NOT NULL,
  `primeiro_nome` VARCHAR(100) NOT NULL,
  `sobrenome` VARCHAR(100) NOT NULL,
  `cpf` VARCHAR(100) NOT NULL,
  `data_nascimento` DATE NOT NULL,
  `telefone` VARCHAR(20) NOT NULL,
  `cep` VARCHAR(10) NOT NULL,
  `numero_casa` VARCHAR(7) NOT NULL,
  `usuarios_id_usuarios` INT(7) NOT NULL,
  PRIMARY KEY (`id_funcionarios`, `usuarios_id_usuarios`),
  INDEX `fk_funcionarios_usuarios1_idx` (`usuarios_id_usuarios` ASC),
  CONSTRAINT `fk_funcionarios_usuarios1`
    FOREIGN KEY (`usuarios_id_usuarios`)
    REFERENCES `usuarios` (`id_usuarios`));


-- -----------------------------------------------------
-- Table `reservas_espacos`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `reservas_espacos` (
  `id_reservas` INT(7) NOT NULL,
  `dia_horario` DATETIME NOT NULL,
  `clientes_cpf_clientes` INT(11) NOT NULL,
  `espacos_hotel_id_espacos` INT(11) NOT NULL,
  PRIMARY KEY (`id_reservas`, `clientes_cpf_clientes`, `espacos_hotel_id_espacos`),
  INDEX `fk_reservas_espacos_clientes1_idx` (`clientes_cpf_clientes` ASC),
  INDEX `fk_reservas_espacos_espacos_hotel1_idx` (`espacos_hotel_id_espacos` ASC),
  CONSTRAINT `fk_reservas_espacos_clientes1`
    FOREIGN KEY (`clientes_cpf_clientes`)
    REFERENCES `clientes` (`cpf_clientes`),
  CONSTRAINT `fk_reservas_espacos_espacos_hotel1`
    FOREIGN KEY (`espacos_hotel_id_espacos`)
    REFERENCES `espacos_hotel` (`id_espacos`));


-- -----------------------------------------------------
-- Table `hospedagens`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `hospedagens` (
  `id_hospedagem` INT(7) NOT NULL,
  `checkin` DATETIME NOT NULL,
  `checkout` DATETIME NOT NULL,
  `clientes_cpf_clientes` INT(11) NOT NULL,
  PRIMARY KEY (`id_hospedagem`, `clientes_cpf_clientes`),
  INDEX `fk_reservas_clientes1_idx` (`clientes_cpf_clientes` ASC),
  CONSTRAINT `fk_reservas_clientes1`
    FOREIGN KEY (`clientes_cpf_clientes`)
    REFERENCES `clientes` (`cpf_clientes`));


-- -----------------------------------------------------
-- Table `manutencao_espaco`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `manutencao_espaco` (
  `idlimpeza_espacos` INT NOT NULL,
  `dia` DATE NOT NULL,
  `hora_inicio` TIME NOT NULL,
  `hora_final` TIME NOT NULL,
  `tipo_manutencao` CHAR(1) NOT NULL,
  `espacos_hotel_id_espacos` INT(11) NOT NULL,
  PRIMARY KEY (`idlimpeza_espacos`, `espacos_hotel_id_espacos`),
  INDEX `fk_limpeza_espacos_espacos_hotel1_idx` (`espacos_hotel_id_espacos` ASC),
  CONSTRAINT `fk_limpeza_espacos_espacos_hotel1`
    FOREIGN KEY (`espacos_hotel_id_espacos`)
    REFERENCES `espacos_hotel` (`id_espacos`));
    
    
    /*/Inserts tabela reserva de espacos/*/
    /*/20 (vinte) inserts por tabela/*/
    /*/ids foram criados automaticos mas v√£o ser trocados para o numero dos quartos /*/
    
insert into reservas_espacos (id, first_name, last_name, email) values (101, 'Aksel', 'Casburn', 'acasburn0@slideshare.net');
insert into reservas_espacos (id, first_name, last_name, email) values (102, 'Harlene', 'Elmhurst', 'helmhurst1@nyu.edu');
insert into reservas_espacos (id, first_name, last_name, email) values (103, 'Wrennie', 'Lidgate', 'wlidgate2@stumbleupon.com');
insert into reservas_espacos (id, first_name, last_name, email) values (104, 'Mariana', 'Tomes', 'mtomes3@storify.com');
insert into reservas_espacos (id, first_name, last_name, email) values (205, 'Bennie', 'Boakes', 'bboakes4@opensource.org');
insert into reservas_espacos (id, first_name, last_name, email) values (206, 'Kevyn', 'Hayton', 'khayton5@umn.edu');
insert into reservas_espacos (id, first_name, last_name, email) values (207, 'Ricca', 'Thoday', 'rthoday6@feedburner.com');
insert into reservas_espacos (id, first_name, last_name, email) values (208, 'Rochette', 'Pavlenkov', 'rpavlenkov7@abc.net.au');
insert into reservas_espacos (id, first_name, last_name, email) values (209, 'Madel', 'Dunmuir', 'mdunmuir8@sourceforge.net');
insert into reservas_espacos (id, first_name, last_name, email) values (110, 'Vaughn', 'Kibby', 'vkibby9@taobao.com');
insert into reservas_espacos (id, first_name, last_name, email) values (111, 'Corrine', 'Janczyk', 'cjanczyka@linkedin.com');
insert into reservas_espacos (id, first_name, last_name, email) values (112, 'Jaine', 'Mainland', 'jmainlandb@163.com');
insert into reservas_espacos (id, first_name, last_name, email) values (213, 'Sasha', 'Tivolier', 'stivolierc@reverbnation.com');
insert into reservas_espacos (id, first_name, last_name, email) values (214, 'Celisse', 'Sparks', 'csparksd@pcworld.com');
insert into reservas_espacos (id, first_name, last_name, email) values (215, 'Vittorio', 'Jirick', 'vjiricke@is.gd');
insert into reservas_espacos (id, first_name, last_name, email) values (216, 'Kara', 'Chatto', 'kchattof@mysql.com');
insert into reservas_espacos (id, first_name, last_name, email) values (217, 'Timmy', 'Sorley', 'tsorleyg@pcworld.com');
insert into reservas_espacos (id, first_name, last_name, email) values (118, 'Anissa', 'Woodier', 'awoodierh@edublogs.org');
insert into reservas_espacos (id, first_name, last_name, email) values (119, 'Gayle', 'Nystrom', 'gnystromi@tumblr.com');
insert into reservas_espacos (id, first_name, last_name, email) values (120, 'Anett', 'Sitwell', 'asitwellj@youtu.be');

/*/